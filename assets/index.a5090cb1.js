import{u}from"./useEndpoint.df2d85eb.js";import{I as g,f as h,v as p,h as _,l as m,o as r,c as a,a as t,H as i,J as n,k as x,d as f,t as c,K as y}from"./entry.2df224aa.js";const v=g("products",{state:()=>({products:[],limit:20}),actions:{async fetchProducts(){try{const s=await(await fetch(u("products",{limit:12}))).json();if(s&&s.products)return this.products=s.products,s.products;throw new Error("Data structure is not as expected")}catch(o){return console.warn(o),[]}}}}),b={class:"products bg-white"},w={class:"mx-auto max-w-2xl px-2 py-8 sm:px-2 sm:py-10 lg:max-w-7xl lg:px-8"},k=t("h2",{class:"text-2xl font-bold tracking-tight text-gray-900"},"Trending products",-1),L={class:"products-grid mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 border-t border-l border-gray-200"},S=y('<div class="flex items-center justify-center lg:h-80 mb-4 bg-gray-300 dark:bg-gray-700"><svg class="w-10 h-10 text-gray-200 dark:text-gray-600" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 20"><path d="M14.066 0H7v5a2 2 0 0 1-2 2H0v11a1.97 1.97 0 0 0 1.934 2h12.132A1.97 1.97 0 0 0 16 18V2a1.97 1.97 0 0 0-1.934-2ZM10.5 6a1.5 1.5 0 1 1 0 2.999A1.5 1.5 0 0 1 10.5 6Zm2.221 10.515a1 1 0 0 1-.858.485h-8a1 1 0 0 1-.9-1.43L5.6 10.039a.978.978 0 0 1 .936-.57 1 1 0 0 1 .9.632l1.181 2.981.541-1a.945.945 0 0 1 .883-.522 1 1 0 0 1 .879.529l1.832 3.438a1 1 0 0 1-.031.988Z"></path><path d="M5 5V.13a2.96 2.96 0 0 0-1.293.749L.879 3.707A2.98 2.98 0 0 0 .13 5H5Z"></path></svg></div><div class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5"></div><div class="h-2 bg-gray-200 rounded-full dark:bg-gray-700"></div><span class="sr-only">Loading...</span>',5),V=[S],j={class:"goods-tile"},B={class:"flex justify-center items-center w-full overflow-hidden h-80"},H=["src","alt"],M={class:"mt-4 flex justify-between"},Z={class:"text-sm text-gray-700"},A={href:"#"},E=t("span",{"aria-hidden":"true",class:"absolute inset-0"},null,-1),N={class:"mt-1 text-sm text-gray-500"},P={class:"text-sm font-medium text-gray-900"},I=h({__name:"index",setup(o){const s=p(!1),d=v(),l=_(()=>d.products??[]);return m(async()=>{d.products.length===0&&(s.value=!0,await d.fetchProducts().then(()=>{s.value=!1}))}),(C,D)=>(r(),a("div",b,[t("div",w,[k,t("div",L,[s.value?(r(),a(i,{key:0},n(12,e=>t("div",{key:e+"-product-loader",role:"status",class:"max-w-xs animate-pulse p-4 border-r border-b border-gray-200"},V)),64)):(r(!0),a(i,{key:1},n(x(l),e=>(r(),a("div",{key:e.id,class:"products-grid__cell group relative p-4 border-r border-b border-gray-200"},[t("div",j,[t("div",B,[t("img",{src:e.thumbnail,alt:e.description,class:"max-h-full max-w-full"},null,8,H)]),t("div",M,[t("div",null,[t("h3",Z,[t("a",A,[E,f(" "+c(e.title),1)])]),t("p",N,c(e.brand),1)]),t("p",P,"$"+c(e.price),1)])])]))),128))])])]))}});export{I as default};
